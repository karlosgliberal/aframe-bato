<!DOCTYPE html>
<html>
<head>
  <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/resonance-audio/build/resonance-audio.min.js"></script>
  <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
  <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
  <script src="https://unpkg.com/aframe-animation-component@4.0.0/dist/aframe-animation-component.min.js"></script>
  <!-- <script src="lib/aframe-resonance.js"></script> -->
  <script src="lib/aframe-effects.js"></script>
  <script src="lib/aabb-collider.js"></script>
  <script src="lib/grab.js"></script>
  <script src="lib/aframe-teleport-controls.min.js"></script>
  <script src="lib/aframe-lowpoly.js"></script>
  <script src="lib/app.js"></script>

</head>
<body style="background-color: #000">

  <!-- <a-scene fog="color: #bc483e; near: 0; far: 65;" screenshot="height:8000; width:8000"> -->


    <a-scene  bloom="radius: 0.99" film="sIntensity: 0.15, nIntensity: 0.2">
    <a-assets>

      <a-mixin id="cube"
      geometry="primitive: box; height: 0.30; width: 0.30; depth: 0.30"
      material="color: #EF2D5E;"></a-mixin>
      <a-mixin id="cube-collided"
      material="color: #F2E646;"></a-mixin>
      <a-mixin id="cube-grabbed"
      material="color: #F2E646;"></a-mixin>


      <a-mixin id="box" geometry="primitive: box; width: 2; height: 0.5; depth: 0.5" randomcolor></a-mixin>
      <a-mixin id="sphere" geometry="primitive: sphere; radius: 0.5" randomcolor></a-mixin>

      <img id="skymap" src="assets/sky.jpg" crossorigin="anonymous">
      <img id="floor" src="assets/floor.jpg" crossorigin="anonymous">

      <img id="woodjpg" src="assets/wood.jpg">
      <img id="wood-LOGjpg" src="assets/wood-LOG.jpg">

      <img id="metal" src="assets/metal.png">
      <img id="wallpng" src="assets/wall.png">


    <!-- BATO OBJETO -->
    <a-asset-item id="bato-obj" src="assets/bato.obj"></a-asset-item>
    <a-asset-item id="bato-mtl" src="assets/bato.mtl"></a-asset-item>
    <!-- FIN BATO OBJETO -->
    <a-asset-item id="cueva-obj" src="assets/cueva.obj"></a-asset-item>
    <a-asset-item id="cueva-mtl" src="assets/cueva.mtl"></a-asset-item>

    <a-asset-item id="cuevaFea-obj" src="assets/cuevaFea.obj"></a-asset-item>
    <a-asset-item id="cuevaFea-mtl" src="assets/cuevaFea.mtl"></a-asset-item>

    </a-assets>

     <a-entity environment="preset: forest"></a-entity>
    <a-resonance-room position="0 0 0" id="uno"
    src-position="0 1 0"
    src="./assets/track.mp3"
    loop="true",
    autoplay="true",
    width="4"
    height="4"
    depth="4"
    helper="true"
    left-wall="plywood-panel"
    right-wall="plywood-panel"
    front-wall="plywood-panel"
    back-wall="plywood-panel"
    down-wall="plywood-panel"
    up-wall="plywood-panel"
    >
  </a-resonance-room>


  <a-obj-model id="cueva-uno" primitive="a-octahedron" lowpoly="wireframe:true; nodes:true; opacity: 0.45; color:#000000" src="#cueva-obj" mtl="#cueva-mtl" position="-20.342 1 18.868" rotation="0 9.969465635276324 0" scale="8 8 8"  material="flatShading:true; color: #ffff00"></a-obj-model>

  <a-obj-model id="cueva-dos" src="#cuevaFea-obj" mtl="#cuevaFea-mtl" position="0.342 5.3 18.868" rotation="0 0 0" scale="20 20 20"  material=""></a-obj-model>

  <a-entity id ="test" primitive="a-octahedron" radius="2" position="0 0 0" material="flatShading:true; color: #ffff00"> </a-entity>
  <!-- <a-obj-model id="cueva-dos" src="#cueva-obj" mtl="#cueva-mtl" position="22.44 1 17.215" rotation="0 90.01166961505233 0" scale="8 8 8" material=""></a-obj-model>
  <a-obj-model id="cueva-cuatro" src="#cueva-obj" mtl="#cueva-mtl" position="-19.997 1 -22.725" rotation="0 -76.4898656499649 0" scale="8 8 8" material=""></a-obj-model>
  <a-obj-model id="cueva-tres" src="#cueva-obj" mtl="#cueva-mtl" position="20.663 1 -20.163" rotation="0 -159.68333750296043 0" scale="8 8 8" material=""></a-obj-model> -->
<!-- luces -->
<!-- <a-light type="point" light="color: #fff; intensity:0.6" position="3 10 1"></a-light>
<a-light type="point" light="color: #fff; intensity:0.2" position="-3 -10 0"></a-light>
<a-light type="hemisphere" groundColor="#888" intensity="0.8"></a-light> -->

<!-- Cielo -->
<!-- <a-entity id="sky" geometry="primitive:sphere; radius:30; phiLength:360; phiStart:0; thetaLength:90" material="shader:flat; side:back; height:2048; src:#skymap; width:2048"></a-entity> -->
<!-- <a-entity id="sky"
geometry="primitive: sphere; radius: 65;"
material="shader: skyGradient; colorTop: #353449; colorBottom: #BC483E; side: back"></a-entity>
<a-entity ground></a-entity> -->

<!-- Suelo -->
<!-- <a-entity id="ground" mixin="floor"
geometry="primitive: box; width: 50; height: 0.01; depth: 50"
material="shader: flat; src: #floor">
</a-entity> -->

<!-- Environment -->
<!-- <a-entity id="sky"
          geometry="primitive: sphere; radius: 65;"
          material="shader: skyGradient; colorTop: #353449; colorBottom: #BC483E; side: back"></a-entity>
 <a-entity ground></a-entity> -->
 <!-- <a-entity light="type: point; color: #f4f4f4; intensity: 0.2; distance: 0" position="8 10 18"></a-entity>
 <a-entity light="type: point; color: #f4f4f4; intensity: 0.6; distance: 0" position="-8 10 -18"></a-entity>
 <a-entity light="type: ambient; color: #f4f4f4; intensity: 0.4;" position="-8 10 -18"></a-entity> -->
</a-entity>


<a-entity position="0 0 -0.5">
  <a-entity class="cube" mixin="cube" position="0.30 0.20 0"></a-entity>
</a-entity>



<a-mixin id="teleport" teleport-controls="type: parabolic; cameraRig: movida; collisionEntities: [mixin='floor']; teleportOrigin: #movida;"></a-mixin>
<!-- hand controls -->
<!-- <a-mixin id="teleport" teleport-controls="type: parabolic; cameraRig: #cameraRig;"></a-mixin> -->
<a-entity id="cameraRig" position="0 0.5 0">
  <!-- <a-mixin id="teleport" teleport-controls="type: parabolic; cameraRig: #movida; collisionEntities: [mixin='floor']; teleportOrigin: #movida;"></a-mixin> -->
  <a-entity id="movida" camera  wasd-controls look-controls mouse-cursor></a-entity>
  <!-- hand controls -->
  <a-entity id="leftHand" mixin="teleport" vive-controls="hand: left" ></a-entity>
  <a-entity id="rightHand" hand-controls="right" aabb-collider="objects: .resonance-source-helper-sphere;" grab></a-entity>
</a-entity>

</a-scene>
</body>
</html>
