<!DOCTYPE html>
<html>
<head>
  <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/resonance-audio/build/resonance-audio.min.js"></script>
  <script src="https://cdn.rawgit.com/etiennepinchon/aframe-resonance/master/dist/aframe-resonance.min.js"></script>
  <script src="lib/aframe-teleport-controls.min.js"></script>
  <script src="lib/skyGradient.js"></script>
  <script src="https://rawgit.com/ngokevin/aframe-motion-capture/343f99/dist/aframe-motion-capture.min.js"></script>
  <script src="https://unpkg.com/aframe-input-mapping-component/dist/aframe-input-mapping-component.min.js"></script>

  <script src="lib/mappings.js"></script>
  </head>
  <body style="background-color: #000">

  <a-scene avatar-recorder>
    <a-assets>
      <a-mixin id="box" geometry="primitive: box; width: 2; height: 0.5; depth: 0.5" randomcolor></a-mixin>
      <a-mixin id="sphere" geometry="primitive: sphere; radius: 0.5" randomcolor></a-mixin>
      <img id="skymap" src="assets/sky.jpg" crossorigin="anonymous">
      <img id="floor" src="assets/floor.jpg" crossorigin="anonymous">
    </a-assets>
  <a-resonance-room position="0 0 0" id="dos"
  src-position="0 0.5 0"
  src="./assets/track.mp3"
  loop="true",
  autoplay="true",
  width="4"
  height="4"
  depth="4"
  helper="true"
  left-wall="plywood-panel"
  right-wall="plywood-panel"
  front-wall="plywood-panel"
  back-wall="plywood-panel"
  down-wall="plywood-panel"
  up-wall="plywood-panel"
  >

</a-resonance-room>

<a-resonance-room position="0 0 15" id="uno"
src-position="0 0.5 0"
src="./assets/track.mp3"
loop="true",
autoplay="true",
width="4"
height="4"
depth="4"
helper="true"
left-wall="metal"
right-wall="metal"
front-wall="metal"
back-wall="metal"
down-wall="metal"
up-wall="metal"
>

</a-resonance-room>

    <!-- luces -->
    <a-light type="point" light="color: #fff; intensity:0.6" position="3 10 1"></a-light>
    <a-light type="point" light="color: #fff; intensity:0.2" position="-3 -10 0"></a-light>
    <a-light type="hemisphere" groundColor="#888" intensity="0.8"></a-light>

    <a-entity id="ground" mixin="floor"
      geometry="primitive: box; width: 50; height: 0.01; depth: 50"
      material="shader: flat; src: #floor">
    </a-entity>

    <a-mixin id="teleport" teleport-controls="type: parabolic; cameraRig: movida; collisionEntities: [mixin='floor']; teleportOrigin: #movida;"></a-mixin>


    <a-entity id="sky" geometry="primitive:sphere; radius:30; phiLength:360; phiStart:0; thetaLength:90" material="shader:flat; side:back; height:2048; src:#skymap; width:2048"></a-entity>

    <!-- hand controls -->
    <!-- <a-mixin id="teleport" teleport-controls="type: parabolic; cameraRig: #cameraRig;"></a-mixin> -->
    <a-entity id="cameraRig">
      <!-- <a-mixin id="teleport" teleport-controls="type: parabolic; cameraRig: #movida; collisionEntities: [mixin='floor']; teleportOrigin: #movida;"></a-mixin> -->
      <a-entity id="movida" camera position="0 0 0" wasd-controls look-controls></a-entity>
      <!-- hand controls -->
      <a-entity id="leftHand" mixin="teleport" vive-controls="hand: left" ></a-entity>
      <a-entity id="rightHand" mixin="teleport" vive-controls="hand: right"></a-entity>
    </a-entity>

  </a-scene>
</body>
</html>
